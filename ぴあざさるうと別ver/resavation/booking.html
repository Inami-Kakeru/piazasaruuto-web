<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>ぴあざさるうと｜オンライン予約</title>
  <meta name="description" content="ぴあざさるうとのオンライン予約システム。簡単・便利な予約で、あなたのスタイルをサポートします。" />
  <meta name="format-detection" content="telephone=no" />
  <style>
    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #d4c5b9;
      --secondary: #a8c9a8;
      --dark: #5c4b3e;
      --white: #fff;
      --black: #000;
      --gray: #666;
      --border: #ccc;
      --light-gray: #f5f5f5;
      --success: #10b981;
      --error: #ef4444;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: 'Noto Sans JP', 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: var(--dark);
      background-color: var(--white);
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    header {
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(92, 75, 62, 0.1);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 0;
      max-width: 1200px;
      margin: 0 auto;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: inherit;
    }

    .brand-logo {
      width: 32px;
      height: 32px;
      border-radius: 10px;
      background: var(--primary);
      box-shadow: 0 2px 8px rgba(92, 75, 62, 0.15);
    }

    .brand-name {
      font-family: 'Noto Serif JP', serif;
      font-size: 24px;
      font-weight: 400;
      letter-spacing: 3px;
      color: var(--dark);
      transition: color 0.3s ease;
    }

    .brand-name:hover {
      color: var(--primary);
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 20px;
      margin: 0;
      padding: 0;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--dark);
      font-family: 'Noto Sans JP', sans-serif;
      font-weight: 500;
      font-size: 18px;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      position: relative;
      padding: 12px 16px;
      border-radius: 8px;
    }

    .nav-links a:hover {
      color: var(--secondary);
      background-color: rgba(168, 201, 168, 0.1);
      transform: translateY(-1px);
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background-color: var(--secondary);
      transition: width 0.3s ease;
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    /* Buttons */
    .btn {
      display: inline-block;
      padding: 12px 24px;
      border-radius: 8px;
      border: none;
      font-weight: 600;
      font-size: 16px;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Noto Sans JP', sans-serif;
      letter-spacing: 1px;
      text-align: center;
    }

    .btn-primary {
      background-color: var(--primary);
      color: var(--dark);
    }

    .btn-primary:hover {
      background-color: var(--secondary);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background-color: var(--light-gray);
      color: var(--dark);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      background-color: var(--border);
    }

    .btn-success {
      background-color: var(--success);
      color: var(--white);
    }

    .btn-success:hover {
      background-color: #059669;
      transform: translateY(-2px);
    }

    .btn-outline {
      background-color: transparent;
      color: var(--dark);
      border: 2px solid var(--primary);
    }

    .btn-outline:hover {
      background-color: var(--primary);
      color: var(--dark);
    }

    /* Main Content */
    main {
      padding-top: 120px;
      min-height: calc(100vh - 120px);
    }

    /* Back Button */
    .back-section {
      text-align: left;
      margin-bottom: 30px;
    }

    .back-btn {
      background: none;
      border: none;
      color: var(--gray);
      font-size: 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0;
      font-family: inherit;
    }

    .back-btn:hover {
      color: var(--dark);
    }

    /* Page Title */
    .page-title {
      text-align: center;
      margin-bottom: 40px;
    }

    .page-title h1 {
      font-family: 'Noto Serif JP', serif;
      font-size: 32px;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 16px;
    }

    .title-divider {
      width: 60px;
      height: 3px;
      background-color: var(--primary);
      margin: 0 auto;
      border-radius: 2px;
    }

    /* Progress Steps */
    .progress-steps {
      display: flex;
      justify-content: space-between;
      margin-bottom: 40px;
      position: relative;
    }

    .progress-steps::before {
      content: '';
      position: absolute;
      top: 20px;
      left: 0;
      right: 0;
      height: 2px;
      background-color: var(--border);
      z-index: 1;
    }

    .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
      flex: 1;
    }

    .step-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--white);
      border: 2px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      color: var(--gray);
      margin-bottom: 8px;
      transition: all 0.3s ease;
    }

    .step.active .step-circle {
      background-color: var(--primary);
      border-color: var(--primary);
      color: var(--dark);
    }

    .step.completed .step-circle {
      background-color: var(--success);
      border-color: var(--success);
      color: var(--white);
    }

    .step-label {
      font-size: 12px;
      color: var(--gray);
      text-align: center;
      font-weight: 500;
    }

    .step.active .step-label {
      color: var(--dark);
    }

    .step.completed .step-label {
      color: var(--success);
    }

    /* Form Sections */
    .form-section {
      background-color: var(--white);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 16px rgba(92, 75, 62, 0.08);
    }

    .section-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 20px;
      text-align: center;
    }

    /* Menu Selection */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .menu-item {
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }

    .menu-item:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .menu-item.selected {
      border-color: var(--primary);
      background-color: rgba(212, 197, 185, 0.1);
    }

    .menu-name {
      font-size: 18px;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 8px;
    }

    .menu-price {
      font-size: 24px;
      font-weight: 700;
      color: var(--secondary);
      margin-bottom: 8px;
    }

    .menu-duration {
      font-size: 14px;
      color: var(--gray);
    }

    /* Date Time Selection */
    .date-time-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .date-picker, .time-picker {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .date-picker label, .time-picker label {
      font-weight: 600;
      color: var(--dark);
    }

    .date-picker input, .time-picker select {
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 16px;
      font-family: inherit;
    }

    .date-picker input:focus, .time-picker select:focus {
      outline: none;
      border-color: var(--primary);
    }

    /* Staff Selection */
    .staff-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .staff-item {
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }

    .staff-item:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .staff-item.selected {
      border-color: var(--primary);
      background-color: rgba(212, 197, 185, 0.1);
    }

    .staff-name {
      font-size: 18px;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 8px;
    }

    .staff-specialties {
      font-size: 14px;
      color: var(--gray);
    }

    /* Customer Info Form */
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    .form-group label {
      font-weight: 600;
      color: var(--dark);
    }

    .form-group input, .form-group textarea {
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 16px;
      font-family: inherit;
    }

    .form-group input:focus, .form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    /* Confirmation */
    .confirmation-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
      border-bottom: 1px solid var(--border);
    }

    .confirmation-item:last-child {
      border-bottom: none;
    }

    .confirmation-label {
      font-weight: 600;
      color: var(--dark);
    }

    .confirmation-value {
      color: var(--gray);
    }

    /* Navigation */
    .form-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 40px;
    }

    .nav-btn {
      min-width: 120px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        padding: 0 15px;
      }
      
      .nav {
        padding: 15px 0;
      }
      
      .nav-links {
        display: none;
      }
      
      .brand-name {
        font-size: 20px;
        letter-spacing: 2px;
      }
      
      main {
        padding-top: 100px;
      }
      
      .form-section {
        padding: 20px;
      }
      
      .form-row {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .progress-steps {
        flex-direction: column;
        gap: 20px;
      }
      
      .progress-steps::before {
        display: none;
      }
      
      .step {
        flex-direction: row;
        gap: 15px;
        text-align: left;
      }
      
      .step-circle {
        margin-bottom: 0;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container nav">
      <a class="brand" href="/">
        <span class="brand-logo"></span>
        <span class="brand-name">ぴあざさるうと</span>
      </a>
      <nav class="nav-links">
        <a href="/">ホーム</a>
        <a href="/#about">About</a>
        <a href="/#stylist">Stylist</a>
        <a href="/#access">Access</a>
        <a href="/resavation/">予約システム</a>
        <a class="btn btn-success" href="/resavation/booking">予約する</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Back Button -->
    <div class="back-section">
      <button class="back-btn" onclick="goBack()">
        ← ホームに戻る
      </button>
    </div>

    <!-- Page Title -->
    <div class="page-title">
      <h1>オンライン予約</h1>
      <div class="title-divider"></div>
    </div>

    <!-- Progress Steps -->
    <div class="progress-steps">
      <div class="step active" id="step1">
        <div class="step-circle">1</div>
        <div class="step-label">メニュー選択</div>
      </div>
      <div class="step" id="step2">
        <div class="step-circle">2</div>
        <div class="step-label">日時選択</div>
      </div>
      <div class="step" id="step3">
        <div class="step-circle">3</div>
        <div class="step-label">スタッフ選択</div>
      </div>
      <div class="step" id="step4">
        <div class="step-circle">4</div>
        <div class="step-label">お客様情報</div>
      </div>
      <div class="step" id="step5">
        <div class="step-circle">5</div>
        <div class="step-label">確認</div>
      </div>
    </div>

    <!-- Step 1: Menu Selection -->
    <div class="form-section" id="menuSection">
      <h2 class="section-title">メニューを選択してください</h2>
      <div class="menu-grid">
        <div class="menu-item" data-menu="cut">
          <div class="menu-name">カット</div>
          <div class="menu-price">¥3,500</div>
          <div class="menu-duration">約60分</div>
        </div>
        <div class="menu-item" data-menu="cut-color">
          <div class="menu-name">カット + カラー</div>
          <div class="menu-price">¥8,500</div>
          <div class="menu-duration">約90分</div>
        </div>
        <div class="menu-item" data-menu="cut-perm">
          <div class="menu-name">カット + パーマ</div>
          <div class="menu-price">¥10,500</div>
          <div class="menu-duration">約150分</div>
        </div>
        <div class="menu-item" data-menu="treatment">
          <div class="menu-name">トリートメント</div>
          <div class="menu-price">¥3,500</div>
          <div class="menu-duration">約45分</div>
        </div>
      </div>
      <div class="form-navigation">
        <div></div>
        <button class="btn btn-primary nav-btn" onclick="nextStep()">次へ</button>
      </div>
    </div>

    <!-- Step 2: Date Time Selection -->
    <div class="form-section" id="dateTimeSection" style="display: none;">
      <h2 class="section-title">日時を選択してください</h2>
      <div class="date-time-grid">
        <div class="date-picker">
          <label for="date">日付</label>
          <input type="date" id="date" min="" required>
        </div>
        <div class="time-picker">
          <label for="time">時間</label>
          <select id="time" required>
            <option value="">時間を選択</option>
            <option value="10:00">10:00</option>
            <option value="10:30">10:30</option>
            <option value="11:00">11:00</option>
            <option value="11:30">11:30</option>
            <option value="12:00">12:00</option>
            <option value="12:30">12:30</option>
            <option value="13:00">13:00</option>
            <option value="13:30">13:30</option>
            <option value="14:00">14:00</option>
            <option value="14:30">14:30</option>
            <option value="15:00">15:00</option>
            <option value="15:30">15:30</option>
            <option value="16:00">16:00</option>
            <option value="16:30">16:30</option>
            <option value="17:00">17:00</option>
          </select>
        </div>
      </div>
      <div class="form-navigation">
        <button class="btn btn-secondary nav-btn" onclick="prevStep()">戻る</button>
        <button class="btn btn-primary nav-btn" onclick="nextStep()">次へ</button>
      </div>
    </div>

    <!-- Step 3: Staff Selection -->
    <div class="form-section" id="staffSection" style="display: none;">
      <h2 class="section-title">スタッフを選択してください</h2>
      <div class="staff-grid">
        <div class="staff-item" data-staff="tanaka">
          <div class="staff-name">田中 美香</div>
          <div class="staff-specialties">カット・カラー専門</div>
        </div>
        <div class="staff-item" data-staff="sato">
          <div class="staff-name">佐藤 雄太</div>
          <div class="staff-specialties">パーマ・カラー専門</div>
        </div>
        <div class="staff-item" data-staff="yamamoto">
          <div class="staff-name">山本 恵子</div>
          <div class="staff-specialties">カット・トリートメント専門</div>
        </div>
      </div>
      <div class="form-navigation">
        <button class="btn btn-secondary nav-btn" onclick="prevStep()">戻る</button>
        <button class="btn btn-primary nav-btn" onclick="nextStep()">次へ</button>
      </div>
    </div>

    <!-- Step 4: Customer Information -->
    <div class="form-section" id="customerSection" style="display: none;">
      <h2 class="section-title">お客様情報を入力してください</h2>
      <div class="form-row">
        <div class="form-group">
          <label for="name">お名前 *</label>
          <input type="text" id="name" required>
        </div>
        <div class="form-group">
          <label for="phone">電話番号 *</label>
          <input type="tel" id="phone" required>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="email">メールアドレス</label>
          <input type="email" id="email">
        </div>
        <div class="form-group">
          <label for="age">年齢</label>
          <input type="number" id="age" min="1" max="120">
        </div>
      </div>
      <div class="form-group full-width">
        <label for="notes">ご要望・ご質問</label>
        <textarea id="notes" placeholder="髪の長さ、希望するスタイル、アレルギーなど、お気軽にお書きください"></textarea>
      </div>
      <div class="form-navigation">
        <button class="btn btn-secondary nav-btn" onclick="prevStep()">戻る</button>
        <button class="btn btn-primary nav-btn" onclick="nextStep()">次へ</button>
      </div>
    </div>

    <!-- Step 5: Confirmation -->
    <div class="form-section" id="confirmationSection" style="display: none;">
      <h2 class="section-title">予約内容の確認</h2>
      <div class="confirmation-item">
        <span class="confirmation-label">選択メニュー</span>
        <span class="confirmation-value" id="confirmMenu">-</span>
      </div>
      <div class="confirmation-item">
        <span class="confirmation-label">予約日時</span>
        <span class="confirmation-value" id="confirmDateTime">-</span>
      </div>
      <div class="confirmation-item">
        <span class="confirmation-label">担当スタッフ</span>
        <span class="confirmation-value" id="confirmStaff">-</span>
      </div>
      <div class="confirmation-item">
        <span class="confirmation-label">お客様名</span>
        <span class="confirmation-value" id="confirmName">-</span>
      </div>
      <div class="confirmation-item">
        <span class="confirmation-label">電話番号</span>
        <span class="confirmation-value" id="confirmPhone">-</span>
      </div>
      <div class="form-navigation">
        <button class="btn btn-secondary nav-btn" onclick="prevStep()">戻る</button>
        <button class="btn btn-success nav-btn" onclick="submitBooking()">予約を確定する</button>
      </div>
    </div>
  </main>

  <script>
    let currentStep = 1;
    let bookingData = {};

    // 日付の最小値を今日に設定
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('date').min = today;
    });

    // メニュー選択
    document.querySelectorAll('.menu-item').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('selected'));
        this.classList.add('selected');
        bookingData.menu = this.dataset.menu;
        bookingData.menuName = this.querySelector('.menu-name').textContent;
        bookingData.menuPrice = this.querySelector('.menu-price').textContent;
        bookingData.menuDuration = this.querySelector('.menu-duration').textContent;
      });
    });

    // スタッフ選択
    document.querySelectorAll('.staff-item').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.staff-item').forEach(i => i.classList.remove('selected'));
        this.classList.add('selected');
        bookingData.staff = this.dataset.staff;
        bookingData.staffName = this.querySelector('.staff-name').textContent;
      });
    });

    // 次のステップへ
    function nextStep() {
      if (currentStep === 1 && !bookingData.menu) {
        alert('メニューを選択してください');
        return;
      }
      if (currentStep === 2 && (!document.getElementById('date').value || !document.getElementById('time').value)) {
        alert('日時を選択してください');
        return;
      }
      if (currentStep === 3 && !bookingData.staff) {
        alert('スタッフを選択してください');
        return;
      }
      if (currentStep === 4) {
        if (!document.getElementById('name').value || !document.getElementById('phone').value) {
          alert('必須項目を入力してください');
          return;
        }
        // 確認データを設定
        updateConfirmation();
      }

      if (currentStep < 5) {
        currentStep++;
        updateStepDisplay();
      }
    }

    // 前のステップへ
    function prevStep() {
      if (currentStep > 1) {
        currentStep--;
        updateStepDisplay();
      }
    }

    // ステップ表示の更新
    function updateStepDisplay() {
      // すべてのセクションを非表示
      document.querySelectorAll('.form-section').forEach(section => {
        section.style.display = 'none';
      });

      // 現在のステップのセクションを表示
      const sections = ['menuSection', 'dateTimeSection', 'staffSection', 'customerSection', 'confirmationSection'];
      document.getElementById(sections[currentStep - 1]).style.display = 'block';

      // プログレスバーの更新
      updateProgressSteps();
    }

    // プログレスステップの更新
    function updateProgressSteps() {
      document.querySelectorAll('.step').forEach((step, index) => {
        step.classList.remove('active', 'completed');
        if (index + 1 < currentStep) {
          step.classList.add('completed');
        } else if (index + 1 === currentStep) {
          step.classList.add('active');
        }
      });
    }

    // 確認データの更新
    function updateConfirmation() {
      const date = document.getElementById('date').value;
      const time = document.getElementById('time').value;
      const name = document.getElementById('name').value;
      const phone = document.getElementById('phone').value;

      document.getElementById('confirmMenu').textContent = bookingData.menuName;
      document.getElementById('confirmDateTime').textContent = `${date} ${time}`;
      document.getElementById('confirmStaff').textContent = bookingData.staffName;
      document.getElementById('confirmName').textContent = name;
      document.getElementById('confirmPhone').textContent = phone;

      // 予約データに追加
      bookingData.date = date;
      bookingData.time = time;
      bookingData.customerName = name;
      bookingData.customerPhone = phone;
      bookingData.customerEmail = document.getElementById('email').value;
      bookingData.customerAge = document.getElementById('age').value;
      bookingData.notes = document.getElementById('notes').value;
    }

    // 予約送信
    function submitBooking() {
      // 実際の実装では、サーバーにデータを送信
      alert('予約が完了しました！\n\nご予約ありがとうございます。\n担当者より確認のご連絡をさせていただきます。');
      
      // 予約データをコンソールに出力（デバッグ用）
      console.log('Booking Data:', bookingData);
      
      // ホームページに戻る
      window.location.href = '/resavation/';
    }

    // 戻るボタン
    function goBack() {
      window.location.href = '/resavation/';
    }
  </script>
</body>
</html>
